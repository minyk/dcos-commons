{
  "type": "object",
    "properties": {
      "service": {
        "type": "object",
        "description": "DC/OS Redis service configuration properties",
        "properties": {
          "name": {
            "title": "Service name",
            "description": "The name of the service instance",
            "type": "string",
            "default": "redis"
          },
          "sleep": {
            "description": "The sleep duration in seconds before tasks exit.",
            "type": "number",
            "default":1000
          },
          "user": {
            "title": "User",
            "description": "The user that the service will run as.",
            "type": "string",
            "default": "root"
          },
          "service_account": {
            "description": "The service account for DC/OS service authentication. This is typically left empty to use the default unless service authentication is needed. The value given here is passed as the principal of Mesos framework.",
            "type": "string",
            "default": ""
          },
          "virtual_network_enabled": {
            "description": "Enable virtual networking",
            "type": "boolean",
            "default": true
          },
          "virtual_network_name": {
            "description": "The name of the virtual network to join",
            "type": "string",
            "default": "dcos"
          },
          "service_account_secret": {
            "title": "Credential secret name (optional)",
            "description": "Name of the Secret Store credentials to use for DC/OS service authentication. This should be left empty unless service authentication is needed.",
            "type": "string",
            "default": ""
          },
          "log_level": {
            "description": "The log level for the DC/OS service.",
            "type": "string",
            "enum": ["OFF", "FATAL", "ERROR", "WARN", "INFO", "DEBUG", "TRACE", "ALL"],
            "default": "INFO"
          }
        },
        "required":[
          "name",
          "sleep",
          "user"
        ]
      },
      "node": {
        "description": "Redis Slaves Configuration properties",
        "type": "object",
        "properties": {
          "count": {
            "title": "Slave Node count",
            "description": "Number of Template pods to run",
            "type": "integer",
            "default":2
          },
          "placement_constraint": {
            "title": "Placement constraint",
            "description": "Marathon-style placement constraint for nodes. Example: 'hostname:UNIQUE'",
            "type": "string",
            "default": ""
          },
          "cpus": {
            "title": "CPU count",
            "description": "Template pod CPU requirements",
            "type": "number",
            "default":0.1
          },
          "mem": {
            "title": "Memory size (MB)",
            "description": "Template pod mem requirements (in MB)",
            "type": "integer",
            "default":64
          }
        },
        "required":[
          "count",
          "cpus",
          "mem"
        ]
      },
      "redis": {
        "description": "Redis configurations",
        "type": "object",
        "properties": {
          "tcp-backlog": {
            "title": "tcp-backlog",
            "description": "tcp-backlog",
            "type": "integer",
            "default": 511
          },
          "timeout": {
            "title": "client timeout",
            "description": "client timeout. 0 to disable",
            "type": "integer",
            "default": 0
          },
          "tcp-keepalive": {
            "title": "tcp-keepalive",
            "description": "tcp-keepalive in seconds.",
            "type": "integer",
            "default": 300
          },
          "loglevel": {
            "title": "loglevel",
            "description": "loglevel",
            "type": "string",
            "enum": ["debug", "verbose", "notice", "warning"],
            "default": "notice"
          },
          "databases": {
            "title": "number of databases",
            "description": "number of databases",
            "type": "integer",
            "default": 16
          }
        }
      },
      "redis-sentinel": {
        "description": "Redis sentinel configurations. Experts only.",
        "type": "object",
        "properties": {
          "count": {
            "title": "Sentinel Node count",
            "description": "Number of sentinel pods to run. 3 or 5 is enough.",
            "type": "integer",
            "default":3
          },
          "placement_constraint": {
            "title": "Placement constraint",
            "description": "Marathon-style placement constraint for sentinel nodes. Example: 'hostname:UNIQUE'",
            "type": "string",
            "default": "hostname:UNIQUE"
          },
          "quorum": {
            "title": "Slave Quorum",
            "description": "Quorum number",
            "type": "integer",
            "default": 2
          },
          "down-after": {
            "title": "down-after-milliseconds",
            "description": "master down after in milliseconds",
            "type": "integer",
            "default": 60000
          },
          "failover-timeout": {
            "title": "failover-timeout",
            "description": "failover-timeout",
            "type": "integer",
            "default": 180000
          },
          "parallel-syncs": {
            "title": "parallel-syncs",
            "description": "parallel-syncs",
            "type": "integer",
            "default": 1
          }
        },
        "required":[
          "count",
          "quorum"
        ]
      },
      "corvus": {
        "description": "A fast and lightweight Redis Cluster Proxy.",
        "type": "object",
        "properties": {
          "count": {
            "title": "Proxy Node count",
            "description": "Number of corvus pods to run.",
            "type": "integer",
            "default":1
          },
          "placement_constraint": {
            "title": "Placement constraint",
            "description": "Marathon-style placement constraint for sentinel nodes. Example: 'hostname:UNIQUE'",
            "type": "string",
            "default": "hostname:UNIQUE"
          },
          "cpus": {
            "title": "CPU count",
            "description": "Template pod CPU requirements",
            "type": "number",
            "default":0.1
          },
          "mem": {
            "title": "Memory size (MB)",
            "description": "Template pod mem requirements (in MB)",
            "type": "integer",
            "default": 32
          },
          "loglevel": {
            "description": "Log Level for Corvus",
            "type": "string",
            "enum": ["error", "warn", "info", "debug"],
            "default": "info"
          },
          "client-timeout": {
            "description": "Timeout in seconds for clients.",
            "type": "integer",
            "default": 30
          },
          "server-timeout": {
            "description": "Timeout in seconds for redis servers",
            "type": "integer",
            "default": 5
          },
          "bufsize": {
            "description": "Buffer size(KB) allocated each time avoiding fragments",
            "type": "integer",
            "default": 16384
          },
          "read-strategy": {
            "description": "how to read from the cluster.",
            "type": "string",
            "enum": ["master", "read-slave-only", "both"],
            "default": "read-slave-only"
          },
          "statd-metrics-enabled": {
            "description": "Enable metrics.",
            "type": "boolean",
            "default": false
          }
        },
        "required":[
          "count",
          "cpus",
          "mem"
        ]
      }
    },
    "required": [
      "service",
      "node",
      "redis",
      "redis-sentinel",
      "corvus"
    ]
}
