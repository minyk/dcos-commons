{
  "type": "object",
    "properties": {
      "service": {
        "type": "object",
        "description": "DC/OS Redis service configuration properties",
        "properties": {
          "name": {
            "title": "Service name",
            "description": "The name of the service instance",
            "type": "string",
            "default": "redis"
          },
          "sleep": {
            "description": "The sleep duration in seconds before tasks exit.",
            "type": "number",
            "default":1000
          },
          "user": {
            "title": "User",
            "description": "The user that the service will run as.",
            "type": "string",
            "default": "root"
          },
          "service_account": {
            "description": "The service account for DC/OS service authentication. This is typically left empty to use the default unless service authentication is needed. The value given here is passed as the principal of Mesos framework.",
            "type": "string",
            "default": ""
          },
          "virtual_network_enabled": {
            "description": "Enable virtual networking",
            "type": "boolean",
            "default": true
          },
          "virtual_network_name": {
            "description": "The name of the virtual network to join",
            "type": "string",
            "default": "dcos"
          },
          "service_account_secret": {
            "title": "Credential secret name (optional)",
            "description": "Name of the Secret Store credentials to use for DC/OS service authentication. This should be left empty unless service authentication is needed.",
            "type": "string",
            "default": ""
          },
          "log_level": {
            "description": "The log level for the DC/OS service.",
            "type": "string",
            "enum": ["OFF", "FATAL", "ERROR", "WARN", "INFO", "DEBUG", "TRACE", "ALL"],
            "default": "INFO"
          }
        },
        "required":[
          "name",
          "sleep",
          "user"
        ]
      },
      "redis": {
        "description": "Redis configurations",
        "type": "object",
        "properties": {
          "stadis_enabled": {
            "description": "Enable redis status export to DC/OS Metrics.",
            "type": "boolean",
            "default": true
          },
          "stadis_interval": {
            "title": "stadis interval",
            "description": "Interval(ms) for metrics.",
            "type": "integer",
            "default": 5000
          },
          "tcp-backlog": {
            "title": "tcp-backlog",
            "description": "tcp-backlog",
            "type": "integer",
            "default": 511
          },
          "timeout": {
            "title": "client timeout",
            "description": "client timeout. 0 to disable",
            "type": "integer",
            "default": 0
          },
          "tcp-keepalive": {
            "title": "tcp-keepalive",
            "description": "tcp-keepalive in seconds.",
            "type": "integer",
            "default": 300
          },
          "loglevel": {
            "title": "loglevel",
            "description": "loglevel. One of 'debug', 'verbose', 'notice', 'warning'",
            "type": "string",
            "enum": ["debug", "verbose", "notice", "warning"],
            "default": "notice"
          },
          "databases": {
            "title": "number of databases",
            "description": "number of databases",
            "type": "integer",
            "default": 16
          }
        }
      },
      "redis-master": {
        "description": "Redis Master Configuration properties",
        "type": "object",
        "properties": {
          "placement_constraint": {
            "title": "Placement constraint",
            "description": "Marathon-style placement constraint for nodes. Example: 'hostname:UNIQUE'",
            "type": "string",
            "default": ""
          },
          "cpus": {
            "title": "CPU count",
            "description": "Master CPU requirements",
            "type": "number",
            "default":0.1
          },
          "mem": {
            "title": "Memory size (MB)",
            "description": "Master mem requirements (in MB). Also redis slaves uses this configuration.",
            "type": "integer",
            "default":64
          }
        },
        "required":[
          "cpus",
          "mem"
        ]
      },
      "redis-slave": {
        "description": "Redis Slaves Configuration properties",
        "type": "object",
        "properties": {
          "count": {
            "title": "Slave Node count",
            "description": "Number of Template pods to run",
            "type": "integer",
            "default":2
          },
          "placement_constraint": {
            "title": "Placement constraint",
            "description": "Marathon-style placement constraint for nodes. Example: 'hostname:UNIQUE'",
            "type": "string",
            "default": ""
          },
          "cpus": {
            "title": "CPU count",
            "description": "Slave CPU requirements",
            "type": "number",
            "default":0.1
          }
        },
        "required":[
          "count",
          "cpus"
        ]
      },
      "redis-sentinel": {
        "description": "Redis sentinel configurations. Experts only.",
        "type": "object",
        "properties": {
          "sentinel_enabled": {
            "description": "Enable redis sentinel",
            "type": "boolean",
            "default": true
          },
          "count": {
            "title": "Sentinel Node count",
            "description": "Number of sentinel pods to run. 3 or 5 is enough.",
            "type": "integer",
            "default":3
          },
          "placement_constraint": {
            "title": "Placement constraint",
            "description": "Marathon-style placement constraint for sentinel nodes. Example: 'hostname:UNIQUE'",
            "type": "string",
            "default": "hostname:UNIQUE"
          },
          "master-name": {
            "title": "Name of master",
            "description": "Redis master name for watching.",
            "type": "string",
            "default": "mymaster"
          },
          "quorum": {
            "title": "Slave Quorum",
            "description": "Quorum number",
            "type": "integer",
            "default": 2
          },
          "down-after": {
            "title": "down-after-milliseconds",
            "description": "master down after in milliseconds",
            "type": "integer",
            "default": 60000
          },
          "failover-timeout": {
            "title": "failover-timeout",
            "description": "failover-timeout",
            "type": "integer",
            "default": 180000
          },
          "parallel-syncs": {
            "title": "parallel-syncs",
            "description": "parallel-syncs",
            "type": "integer",
            "default": 1
          }
        },
        "required":[
          "count",
          "quorum"
        ]
      }
    },
    "required": [
      "service",
      "redis",
      "redis-master",
      "redis-slave",
      "redis-sentinel"
    ]
}
